<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Russian Slang Spark - „É≠„Ç∑„Ç¢Ë™û„Çπ„É©„É≥„Ç∞Â≠¶Áøí</title>
    <style>
        :root {
            --bg-color: #121212;
            --card-bg-color: #1e1e1e;
            --primary-text-color: #e0e0e0;
            --secondary-text-color: #b0b0b0;
            --accent-color: #e53935; /* „É≠„Ç∑„Ç¢„ÅÆ„Ç§„É°„Éº„Ç∏„Ç´„É©„ÉºËµ§Á≥ª */
            --accent-hover-color: #b71c1c;
            --hook-color: #42a5f5; /* ÈùíÁ≥ª */
            --next-btn-color: #42a5f5;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Hiragino Sans', 'Noto Sans JP', sans-serif;
            background-color: var(--bg-color);
            color: var(--primary-text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }
        #app-container {
            width: 100%;
            max-width: 500px;
            text-align: center;
        }
        h1 {
            color: var(--accent-color);
            margin-bottom: 5px;
            font-size: 2.5rem;
        }
        #app-subtitle {
            color: var(--secondary-text-color);
            margin-top: 0;
            margin-bottom: 20px;
        }
        #mode-selector {
            margin-bottom: 20px;
        }
        .mode-btn {
            background-color: transparent;
            border: 1px solid var(--accent-color);
            color: var(--accent-color);
            padding: 10px 15px;
            margin: 0 5px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
        }
        .mode-btn:hover {
            background-color: var(--accent-hover-color);
            color: white;
        }
        .mode-btn.active {
            background-color: var(--accent-color);
            color: white;
            font-weight: bold;
        }
        .card-scene {
            width: 100%;
            height: 300px;
            perspective: 1000px;
            margin-bottom: 20px;
        }
        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
            cursor: pointer;
        }
        .card.is-flipped {
            transform: rotateY(180deg);
        }
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            background-color: var(--card-bg-color);
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
            overflow-wrap: break-word;
        }
        .card-face-back {
            transform: rotateY(180deg);
        }
        #word-display {
            font-size: 2.2rem;
            font-weight: bold;
            margin: 0;
        }
        #ipa-display {
            font-size: 1.2rem;
            color: var(--secondary-text-color);
            margin-top: 5px;
        }
        #audio-btn, #audio-btn-back {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 2rem;
            color: var(--accent-color);
            transition: color 0.3s;
        }
        #audio-btn:hover, #audio-btn-back:hover {
            color: var(--accent-hover-color);
        }
        #back-face-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        #japanese-display {
            font-size: 1.8rem;
            font-weight: bold;
            margin: 0;
        }
        #hook-display {
            font-size: 1rem;
            color: var(--hook-color);
            margin-top: 15px;
            font-style: italic;
        }
        .example-display {
            margin-top: 15px;
            font-size: 0.9rem;
            color: var(--secondary-text-color);
            width: 100%;
        }
        #controls {
            display: flex;
            justify-content: center;
        }
        .control-btn {
            width: 80%;
            padding: 15px;
            font-size: 1.2rem;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: opacity 0.3s;
            background-color: var(--next-btn-color);
            color: white;
        }
        .control-btn:hover {
            opacity: 0.8;
        }
        #progress-display {
            margin-top: 20px;
            color: var(--secondary-text-color);
            font-size: 1.1rem;
        }
        #completion-screen {
            display: none;
        }
    </style>
</head>
<body>
    <div id="app-container">
        <h1>Russian Slang Spark</h1>
        <p id="app-subtitle">„Ç´„Éº„Éâ„Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶Á≠î„Åà„ÇíÁ¢∫Ë™ç</p>

        <div id="mode-selector">
            <button id="ru-jp-btn" class="mode-btn">„É≠„Ç∑„Ç¢Ë™û ‚Üí Êó•Êú¨Ë™û</button>
            <button id="jp-ru-btn" class="mode-btn active">Êó•Êú¨Ë™û ‚Üí „É≠„Ç∑„Ç¢Ë™û</button>
        </div>

        <div id="main-content">
            <div class="card-scene">
                <div id="card" class="card">
                    <div class="card-face card-face-front">
                        <p id="word-display"></p>
                        <p id="ipa-display"></p>
                        <button id="audio-btn">üîä</button>
                    </div>
                    <div class="card-face card-face-back">
                        <div id="back-face-header">
                            <p id="japanese-display"></p>
                            <button id="audio-btn-back">üîä</button>
                        </div>
                        <p id="hook-display"></p>
                        <div class="example-display">
                            <p id="example-ru-display"></p>
                            <p id="example-ja-display"></p>
                        </div>
                    </div>
                </div>
            </div>
    
            <div id="controls">
                <button id="next-btn" class="control-btn">Ê¨°„Å∏</button>
            </div>
    
            <p id="progress-display"></p>
        </div>

        <div id="completion-screen">
            <h2>üéâ –ú–æ–ª–æ–¥–µ—Ü! („Çà„Åè„ÇÑ„Å£„Åü!)</h2>
            <p>Á¥†Êô¥„Çâ„Åó„ÅÑ„Åß„ÅôÔºÅ‰∏ä„ÅÆ„É¢„Éº„Éâ„ÇíÈÅ∏Êäû„Åó„Å¶„ÄÅÊñ∞„Åó„ÅÑ„Çª„ÉÉ„Ç∑„Éß„É≥„ÇíÈñãÂßã„Åß„Åç„Åæ„Åô„ÄÇ</p>
        </div>
    </div>

<script>
    // ===================================================================================
    // ‚òÖ‚òÖ‚òÖ ÂçòË™û„Éá„Éº„Çø„ÅÆËøΩÂä†„ÉªÁ∑®ÈõÜ„ÅØ„Åì„Åì„Åã„Çâ ‚òÖ‚òÖ‚òÖ
    // ===================================================================================
    const wordData = [
        {
            russian: "–ß—É–≤–∞–∫",
            ipa: "[tÕ°…ï äÀàvak]",
            japanese: "Áî∑„ÄÅ„É§„ÉÑ„ÄÅÂÖÑ„Å°„ÇÉ„Çì",
            hook: "„Ç´„Ç∏„É•„Ç¢„É´„Å´Áî∑ÊÄß„ÇíÂëº„Å∂„Å®„Åç„ÅÆ„Äå„Éò„Ç§„ÄÅ„Éñ„É©„Ç∂„ÉºÔºÅ„ÄçÁöÑ„Å™„Éã„É•„Ç¢„É≥„Çπ„ÄÇ",
            example_ru: "–≠–π, —á—É–≤–∞–∫, –∫–∞–∫ –¥–µ–ª–∞?",
            example_ja: "„ÇÑ„ÅÇ„ÄÅÂÖÑ„Å°„ÇÉ„Çì„ÄÅË™øÂ≠ê„Å©„ÅÜÔºü"
        },
        {
            russian: "–¢—É—Å–∞",
            ipa: "[Ààtus…ô]",
            japanese: "„Éë„Éº„ÉÜ„Ç£„Éº„ÄÅÈõÜ„Åæ„Çä",
            hook: "„Äå—Ç—É—Å–æ–≤–∫–∞ (tusovka)„Äç„ÅÆÁï•„ÄÇËã•ËÄÖ„ÅÆÈõÜ„Åæ„Çä„ÇÑ„Éë„Éº„ÉÜ„Ç£„Éº„ÄÇ",
            example_ru: "–°–µ–≥–æ–¥–Ω—è –±—É–¥–µ—Ç –∫—Ä—É—Ç–∞—è —Ç—É—Å–∞.",
            example_ja: "‰ªäÊó•„ÅØ„É§„Éê„ÅÑ„Éë„Éº„ÉÜ„Ç£„Éº„Åå„ÅÇ„Çã„Åú„ÄÇ"
        },
        {
            russian: "–ë–∞–±–∫–∏",
            ipa: "[Ààbapk ≤…™]",
            japanese: "ÈáëÔºà„Åã„Å≠Ôºâ",
            hook: "„Äå„Åä„Å∞„ÅÇ„Åï„Çì(–±–∞–±—É—à–∫–∞)„Äç„Å®„ÅØÈÅï„ÅÜÊÑèÂë≥„ÅÆ„Çπ„É©„É≥„Ç∞„ÄÇÁî±Êù•„ÅØË´∏Ë™¨„ÅÇ„Çä„ÄÇ",
            example_ru: "–£ –º–µ–Ω—è –Ω–µ—Ç –±–∞–±–æ–∫.",
            example_ja: "‰ø∫„ÄÅÈáëÊåÅ„Å£„Å¶„Å™„ÅÑ„Çì„Å†„ÄÇ"
        },
        {
            russian: "–¢–∞—á–∫–∞",
            ipa: "[ÀàtatÕ°…ïk…ô]",
            japanese: "ËªäÔºà„Ç´„Ç∏„É•„Ç¢„É´Ôºâ",
            hook: "„Äå–ú–∞—à–∏–Ω–∞„Äç„Çà„Çä„ÇØ„Éº„É´„ÅßËá™ÊÖ¢„Åí„Å™Èüø„Åç„ÄÇ„Äå„Ç§„Ç´„Åó„ÅüËªä„Äç",
            example_ru: "–°–º–æ—Ç—Ä–∏, –∫–∞–∫–∞—è —É –Ω–µ–≥–æ —Ç–∞—á–∫–∞!",
            example_ja: "Ë¶ã„Çç„Çà„ÄÅ„ÅÇ„ÅÑ„Å§„ÅÆËªä„ÄÅ„Åã„Å£„Åë„ÉºÔºÅ"
        },
        {
            russian: "–ö–ª—ë–≤–æ",
            ipa: "[Ààkl ≤…µv…ô]",
            japanese: "„Åã„Å£„Åì„ÅÑ„ÅÑ„ÄÅ„Ç§„Ç±„Å¶„Çã",
            hook: "„Äå–ö—Ä—É—Ç–æ„Äç„Å®‰ºº„Å¶„ÅÑ„Çã„Åå„ÄÅ„Çà„Çä„Éù„Ç∏„ÉÜ„Ç£„Éñ„ÅßÊòé„Çã„ÅÑ„ÄåÊúÄÈ´òÔºÅ„Äç",
            example_ru: "–≠—Ç–æ –±—ã–ª–æ –∫–ª—ë–≤–æ!",
            example_ja: "„ÅÇ„Çå„ÅØ„Éû„Ç∏„Åß„Ç§„Ç±„Å¶„ÅüÔºÅ"
        },
        {
            russian: "–û—Ç—Å—Ç–æ–π",
            ipa: "[…êtÀàstoj]",
            japanese: "ÊúÄÊÇ™„ÄÅ„ÉÄ„Çµ„ÅÑ",
            hook: "‰Ωï„Åã„ÇíÂº∑„ÅèÂê¶ÂÆö„Åô„Çã„Å®„Åç„Å´‰Ωø„ÅÜ„ÄÇ„Äå„Åì„Çå„ÅØ„Å™„ÅÑ„Çè„Éº„Äç",
            example_ru: "–≠—Ç–æ—Ç —Ñ–∏–ª—å–º ‚Äî –ø–æ–ª–Ω—ã–π –æ—Ç—Å—Ç–æ–π.",
            example_ja: "„Åì„ÅÆÊò†Áîª„ÅØÂÆåÂÖ®„Å™ÈßÑ‰Ωú„Å†„ÄÇ"
        },
        {
            russian: "–ó–∞—à–∫–≤–∞—Ä",
            ipa: "[z…ê ÇÀàkvar]",
            japanese: "„ÉÄ„Çµ„ÅÑ„ÄÅ„Åø„Å£„Å®„ÇÇ„Å™„ÅÑ",
            hook: "Áâπ„Å´Ëã•ËÄÖË®ÄËëâ„ÄÇ„Äå„Åù„Çå„ÇÑ„Å£„Å°„ÇÉ„ÅÜ„ÅÆ„ÅØ„ÉÄ„Çµ„ÅÑ„Äç„Å®„ÅÑ„ÅÜ„Éã„É•„Ç¢„É≥„Çπ„ÄÇ",
            example_ru: "–ù–æ—Å–∏—Ç—å —Ç–∞–∫–æ–µ ‚Äî —ç—Ç–æ –∑–∞—à–∫–≤–∞—Ä.",
            example_ja: "„Åù„Çì„Å™Ê†ºÂ•Ω„Åô„Çã„Å™„Çì„Å¶„ÄÅ„Éû„Ç∏„Åß„ÉÄ„Çµ„ÅÑ„ÄÇ"
        },
        {
            russian: "–•–∞–≤—á–∏–∫",
            ipa: "[ÀàxaftÕ°…ï…™k]",
            japanese: "È£ü„ÅπÁâ©ÔºàËªΩÈ£üÔºâ",
            hook: "„Äå—Ö–∞–≤–∞—Ç—å (È£ü„Åπ„Çã)„Äç„Åã„ÇâÊù•„ÅüË®ÄËëâ„ÄÇ„Ç∏„É£„É≥„Ç≠„Éº„Å™È£ü„ÅπÁâ©„ÅÆ„Ç§„É°„Éº„Ç∏„ÄÇ",
            example_ru: "–ü–æ–π–¥—ë–º –∫—É–ø–∏–º –∫–∞–∫–æ–π-–Ω–∏–±—É–¥—å —Ö–∞–≤—á–∏–∫.",
            example_ja: "‰Ωï„ÅãÈ£ü„ÅπÁâ©„Åß„ÇÇË≤∑„ÅÑ„Å´Ë°å„Åì„ÅÜ„Åú„ÄÇ"
        },
        {
            russian: "–õ–æ—Ö",
            ipa: "[lox]",
            japanese: "„Ç´„É¢„ÄÅ„Å†„Åæ„Åï„Çå„ÇÑ„Åô„ÅÑ‰∫∫",
            hook: "Ë©êÊ¨∫Â∏´„Å™„Å©„Åå‰Ωø„ÅÜË®ÄËëâ„ÄÇ‰∫∫„Çí‰æÆËæ±„Åô„ÇãË®ÄËëâ„Å™„ÅÆ„ÅßÊ≥®ÊÑè„ÄÇ",
            example_ru: "–û–Ω –ø–æ–≤—ë–ª—Å—è –Ω–∞ —ç—Ç–æ, –≤–æ—Ç –ª–æ—Ö!",
            example_ja: "ÂΩº„ÅØ„Åù„Çå„Å´Âºï„Å£„Åã„Åã„Å£„Åü„ÄÅ„Å™„Çì„Å¶„Ç´„É¢„Å™„Çì„Å†ÔºÅ"
        },
        {
            russian: "–ë–ª–∏–Ω",
            ipa: "[bl ≤in]",
            japanese: "„Å°„Åè„Åó„Çá„ÅÜÔºÅ",
            hook: "ÂÖÉ„ÅØ„Éë„É≥„Ç±„Éº„Ç≠„ÄÇÊÇ™ÊÖã„Äå–ë–ª—è–¥—å„Äç„ÅÆ‰ª£„Çè„Çä„ÅÆ„ÇΩ„Éï„Éà„Å™Ë°®Áèæ„ÄÇ",
            example_ru: "–ë–ª–∏–Ω, —è –∑–∞–±—ã–ª –∫–ª—é—á–∏.",
            example_ja: "„Å°„Åè„Åó„Çá„ÅÜ„ÄÅÈçµ„ÇíÂøò„Çå„Åü„ÄÇ"
        },
        {
            russian: "–ñ–µ—Å—Ç—å",
            ipa: "[ ê…õs ≤t ≤]",
            japanese: "„É§„Éê„ÅÑÔºàËâØ„ÅÑ/ÊÇ™„ÅÑÔºâ",
            hook: "„Äå„Çπ„Ç∫ÔºàÈáëÂ±ûÔºâ„Äç„ÅåÂÖÉ„ÅÆÊÑèÂë≥„ÄÇÁ°¨Ë≥™„Å™Èüø„Åç„Åå„Äå„É§„Éê„Åï„Äç„ÇíË°®„Åô„ÄÇ",
            example_ru: "–í—á–µ—Ä–∞ –Ω–∞ –∫–æ–Ω—Ü–µ—Ä—Ç–µ –±—ã–ª–∞ –ø—Ä–æ—Å—Ç–æ –∂–µ—Å—Ç—å!",
            example_ja: "Êò®Êó•„ÅÆ„Ç≥„É≥„Çµ„Éº„Éà„ÅØ„Éû„Ç∏„Åß„É§„Éê„Åã„Å£„ÅüÔºÅ"
        },
        {
            russian: "–ì–æ–ø–Ω–∏–∫",
            ipa: "[Àà…°opn ≤…™k]",
            japanese: "„É§„É≥„Ç≠„Éº„ÄÅ‰∏çËâØ",
            hook: "„Ç¢„Éá„Ç£„ÉÄ„Çπ„ÅÆ„Ç∏„É£„Éº„Ç∏„ÇíÁùÄ„Å¶„Åó„ÇÉ„Åå„Çì„Åß„ÅÑ„Çã„Ç§„É°„Éº„Ç∏„ÄÇ",
            example_ru: "–ù–∞ —Ä–∞–π–æ–Ω–µ –æ–ø—è—Ç—å –≥–æ–ø–Ω–∏–∫–∏ —Å–æ–±—Ä–∞–ª–∏—Å—å.",
            example_ja: "„Åæ„ÅüËøëÊâÄ„Å´„É§„É≥„Ç≠„Éº„Åü„Å°„ÅåÈõÜ„Åæ„Å£„Å¶„Çã„ÄÇ"
        },
        {
            russian: "–ë—É—Ö–∞—Ç—å",
            ipa: "[b äÀàxat ≤]",
            japanese: "È£≤„Åø„Åæ„Åè„Çã",
            hook: "„Åü„Å†È£≤„ÇÄ(–ø–∏—Ç—å)„ÅÆ„Åß„ÅØ„Å™„Åè„ÄÅÂ§ßÈáè„Å´„Åå„Å∂È£≤„Åø„Åô„ÇãÊÑü„Åò„ÄÇ",
            example_ru: "–ú—ã –≤—Å—é –Ω–æ—á—å –±—É—Ö–∞–ª–∏.",
            example_ja: "‰ø∫„Åü„Å°„ÅØ‰∏ÄÊô©‰∏≠È£≤„Åø„Åæ„Åè„Å£„Åü„ÄÇ"
        },
        {
            russian: "–ü–æ—Ñ–∏–≥",
            ipa: "[Ààpof ≤…™k]",
            japanese: "„Å©„ÅÜ„Åß„ÇÇ„ÅÑ„ÅÑ",
            hook: "„Äå–ú–Ω–µ –≤—Å—ë —Ä–∞–≤–Ω–æ„Äç„Çà„ÇäÂº∑„ÅÑÁÑ°Èñ¢ÂøÉ„ÄÇ„ÄåÁü•„Å£„Åü„Åì„Å£„Å°„ÇÉ„Å™„ÅÑ„Äç",
            example_ru: "–ú–Ω–µ –Ω–∞ —ç—Ç–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ –ø–æ—Ñ–∏–≥.",
            example_ja: "„Åù„Çì„Å™„Åì„Å®„ÄÅ‰ø∫„Å´„ÅØ„Éû„Ç∏„Åß„Å©„ÅÜ„Åß„ÇÇ„ÅÑ„ÅÑ„ÄÇ"
        },
        {
            russian: "–ß—ë—Ä—Ç",
            ipa: "[tÕ°…ï…µrt]",
            japanese: "„Åè„Åù„Å£ÔºÅ„ÄÅÊÇ™È≠î",
            hook: "„Äå–ë–ª–∏–Ω„Äç„Çà„ÇäÂº∑„ÅÑÊÄí„Çä„ÇÑÈ©ö„Åç„ÄÇÊÇ™È≠î„ÇíÂëº„Å≥Âá∫„ÅôÊÑü„Åò„ÄÇ",
            example_ru: "–ß—ë—Ä—Ç, —è –æ–ø–æ–∑–¥–∞–ª!",
            example_ja: "„Åè„Åù„Å£„ÄÅÈÅÖÂàª„Å†ÔºÅ"
        },
        {
            russian: "–ó–∞–ª–∏–ø–∞—Ç—å",
            ipa: "[z…ôl ≤…™Ààpat ≤]",
            japanese: "„Éè„Éû„Çã„ÄÅÂ§¢‰∏≠„Å´„Å™„Çã",
            hook: "‰Ωï„Åã„Å´„Äå„Åè„Å£„Å§„ÅÑ„Å¶„ÄçÈõ¢„Çå„Çâ„Çå„Å™„ÅÑ„Ç§„É°„Éº„Ç∏„ÄÇÂãïÁîª„ÇÑ„Ç≤„Éº„É†„Å´„ÄÇ",
            example_ru: "–Ø –∑–∞–ª–∏–ø–∞—é –Ω–∞ —ç—Ç–æ –≤–∏–¥–µ–æ.",
            example_ja: "‰ø∫„ÄÅ„Åì„ÅÆÂãïÁîª„Å´„Éè„Éû„Å£„Å¶„Çã„Çì„Å†„ÄÇ"
        },
        {
            russian: "–¢—É–ø–æ",
            ipa: "[Ààtup…ô]",
            japanese: "„Ç¨„ÉÅ„Åß„ÄÅ„Éû„Ç∏„Åß",
            hook: "ÂÖÉ„ÅØ„ÄåÈ¶¨Èπø„Åø„Åü„ÅÑ„Å´„Äç„ÄÇÁ®ãÂ∫¶„ÇíÂº∑Ë™ø„Åô„Çã„Äå„ÇÅ„Å£„Å°„ÇÉ„Äç„ÅÆ„Çà„ÅÜ„Å™ÂâØË©û„ÄÇ",
            example_ru: "–≠—Ç–æ –±—ã–ª–æ —Ç—É–ø–æ —Å–º–µ—à–Ω–æ.",
            example_ja: "„Åù„Çå„ÅØ„Éû„Ç∏„ÅßÈù¢ÁôΩ„Åã„Å£„Åü„ÄÇ"
        },
        {
            russian: "–†–∂–∞—Ç—å",
            ipa: "[r êat ≤]",
            japanese: "„Ç≤„É©„Ç≤„É©Á¨ë„ÅÜ",
            hook: "È¶¨„ÅÆ„ÅÑ„Å™„Å™„Åç„ÅåÂéüÁæ©„ÄÇÂìÅ„ÅÆ„Å™„ÅÑÂ§ßÁ¨ë„ÅÑ„ÇíÊåá„Åô„ÄÇ",
            example_ru: "–ú—ã —Ä–∂–∞–ª–∏ –Ω–∞–¥ —ç—Ç–æ–π —à—É—Ç–∫–æ–π.",
            example_ja: "‰ø∫„Åü„Å°„ÅØ„Åù„ÅÆÂÜóË´á„Åß„Ç≤„É©„Ç≤„É©Á¨ë„Å£„Åü„ÄÇ"
        },
        {
            russian: "–¢–æ—Ä–º–æ–∑",
            ipa: "[Ààtorm…ôs]",
            japanese: "Èàç„ÅÑ„ÇÑ„Å§„ÄÅ„ÅÆ„Çç„Åæ",
            hook: "Ëªä„ÅÆ„Äå„Éñ„É¨„Éº„Ç≠„Äç„ÅåÂÖÉ„ÅÆÊÑèÂë≥„ÄÇË°åÂãï„ÇÑÂèçÂøú„ÅåÈÅÖ„ÅÑ‰∫∫„ÄÇ",
            example_ru: "–ù—É —Ç—ã –∏ —Ç–æ—Ä–º–æ–∑!",
            example_ja: "„ÅäÂâç„Å£„Å¶Êú¨ÂΩì„Å´„ÅÆ„Çç„Åæ„Å†„Å™ÔºÅ"
        },
        {
            russian: "–ö–æ—Å–∏—Ç—å",
            ipa: "[k…êÀàs ≤it ≤]",
            japanese: "„Çµ„Éú„Çã„ÄÅÈÄÉ„Çå„Çã",
            hook: "ÂÖÉ„ÅØ„ÄåÔºàËçâ„ÇíÔºâÂàà„Çã„Äç„ÄÇÂÖµÂΩπ„Å™„Å©„Åã„ÇâÈÄÉ„Çå„ÇãÊÑèÂë≥„Åß„Çà„Åè‰Ωø„Çè„Çå„Çã„ÄÇ",
            example_ru: "–û–Ω –∫–æ—Å–∏—Ç –æ—Ç –∞—Ä–º–∏–∏.",
            example_ja: "ÂΩº„ÅØÂÖµÂΩπ„Çí„Çµ„Éú„Å£„Å¶„ÅÑ„Çã„ÄÇ"
        },
        {
            russian: "–ó–∞—à–∫–≤–∞—Ä–∏—Ç—å—Å—è",
            ipa: "[z…ê ÇÀàkvar ≤…™tÕ°sÀê…ô]",
            japanese: "Ëá™„ÇâÊÅ•„Çí„Åã„Åè",
            hook: "„Äå–ó–∞—à–∫–≤–∞—Ä„Äç„ÅÆÂãïË©ûÂΩ¢„ÄÇ„ÉÄ„Çµ„ÅÑ„Åì„Å®„Çí„Åó„Å¶Ë©ïÂà§„ÇíËêΩ„Å®„Åô„ÄÇ",
            example_ru: "–û–Ω –∑–∞—à–∫–≤–∞—Ä–∏–ª—Å—è, –∫–æ–≥–¥–∞ –Ω–∞–¥–µ–ª —ç—Ç–æ.",
            example_ja: "ÂΩº„ÅØ„Åù„Çå„ÇíÁùÄ„Å¶„ÄÅËá™ÂàÜ„ÅßËá™ÂàÜ„ÅÆË©ïÂà§„ÇíËêΩ„Å®„Åó„Åü„ÄÇÔºà„ÉÄ„Çµ„ÅÑ„Åì„Å®„Çí„Åó„ÅüÔºâ"
        },
        {
            russian: "–ó–∞–¥—Ä–æ—Ç",
            ipa: "[z…êÀàdrot]",
            japanese: "„Ç™„Çø„ÇØ„ÄÅ„Ç¨„É™ÂãâÔºà‰æÆËîëÁöÑÔºâ",
            hook: "„Ç≤„Éº„É†„ÇÑÂãâÂº∑„Å´Ê≤°È†≠„Åó„Åô„Åé„Å¶‰ªñ„ÅåË¶ã„Åà„Å™„ÅÑ‰∫∫„Å∏„ÅÆËîëÁß∞„ÄÇ",
            example_ru: "–û–Ω –Ω–∞—Å—Ç–æ—è—â–∏–π –∑–∞–¥—Ä–æ—Ç, –≤—Å—ë –≤—Ä–µ–º—è –∏–≥—Ä–∞–µ—Ç.",
            example_ja: "„ÅÇ„ÅÑ„Å§„ÅØÊú¨Áâ©„ÅÆ„Ç≤„Éº„É†„Ç™„Çø„ÇØ„Åß„ÄÅÂõõÂÖ≠ÊôÇ‰∏≠„Éó„É¨„Ç§„Åó„Å¶„Çã„ÄÇ"
        },
        {
            russian: "–ß—ë—Ä–Ω—ã–π —é–º–æ—Ä",
            ipa: "[ÀàtÕ°…ï…µrn…®j Ààjum…ôr]",
            japanese: "„Éñ„É©„ÉÉ„ÇØ„É¶„Éº„É¢„Ç¢",
            hook: "Áõ¥Ë®≥„Åß„ÄåÈªí„ÅÑ„É¶„Éº„É¢„Ç¢„Äç„ÄÇ‰∏çË¨πÊÖé„Å™„Ç∏„Éß„Éº„ÇØ„ÄÇ",
            example_ru: "–Ø –ª—é–±–ª—é —á—ë—Ä–Ω—ã–π —é–º–æ—Ä.",
            example_ja: "ÁßÅ„ÅØ„Éñ„É©„ÉÉ„ÇØ„É¶„Éº„É¢„Ç¢„ÅåÂ•Ω„Åç„Å†„ÄÇ"
        },
        {
            russian: "–í–ø–∞–¥–ª—É",
            ipa: "[Ààfpadl ä]",
            japanese: "Èù¢ÂÄí„Åè„Åï„ÅÑ",
            hook: "„Äå–ú–Ω–µ –ª–µ–Ω—å„Äç„Çà„ÇäÂº∑„ÅÑ„Äå„ÇÑ„ÇãÊ∞ó„Çº„É≠„ÄçÊÑü„ÄÇ",
            example_ru: "–ú–Ω–µ –≤–ø–∞–¥–ª—É –∏–¥—Ç–∏ –≤ –º–∞–≥–∞–∑–∏–Ω.",
            example_ja: "Â∫ó„Å´Ë°å„Åè„ÅÆ„ÄÅ„Éû„Ç∏„ÅßÈù¢ÂÄí„Åè„Åï„ÅÑ„ÄÇ"
        },
        {
            russian: "–ö–∞–π—Ñ",
            ipa: "[kajf]",
            japanese: "Âø´ÊÑü„ÄÅÊ∞óÊåÅ„Å°„ÅÑ„ÅÑ",
            hook: "„Ç¢„É©„Éì„Ç¢Ë™ûÁî±Êù•„ÄÇÁ©∂Ê•µ„ÅÆ„É™„É©„ÉÉ„ÇØ„Çπ„ÇÑÂñú„Å≥„ÇíË°®„Åô„ÄÇ",
            example_ru: "–ü–æ—Å–ª–µ –±–∞–Ω–∏ —Ç–∞–∫–æ–π –∫–∞–π—Ñ!",
            example_ja: "„Çµ„Ç¶„Éä„ÅÆÂæå„ÅØÊú¨ÂΩì„Å´ÊúÄÈ´ò„Å´Ê∞óÊåÅ„Å°„ÅÑ„ÅÑÔºÅ"
        },
        {
            russian: "–ù–∏—à—Ç—è–∫",
            ipa: "[n ≤…™ ÇÀàt ≤ak]",
            japanese: "ÊúÄÈ´òÔºÅ„ÄÅ„ÅÑ„ÅÑ„Å≠ÔºÅ",
            hook: "Â∞ë„ÅóÂè§È¢®„Å†„ÅåÈÄö„Åò„Çã„Çπ„É©„É≥„Ç∞„ÄÇ„Äå–ö–ª—ë–≤–æ„Äç„Å®‰ºº„Å¶„ÅÑ„Çã„ÄÇ",
            example_ru: "–í—Å—ë –Ω–∏—à—Ç—è–∫, –Ω–µ –≤–æ–ª–Ω—É–π—Å—è.",
            example_ja: "‰∏á‰∫ãOK„ÄÅÂøÉÈÖç„Åô„Çã„Å™„ÄÇ"
        },
        {
            russian: "–ë–µ—Å–ø—Ä–µ–¥–µ–ª",
            ipa: "[b ≤…™spr ≤…™Ààd ≤el]",
            japanese: "ÁÑ°Ê≥ïÁä∂ÊÖã„ÄÅ„ÇÑ„Çä„Åô„Åé",
            hook: "„ÄåÈôêÁïåÔºà–ø—Ä–µ–¥–µ–ªÔºâ„ÅåÁÑ°„ÅÑÔºà–±–µ—Å-Ôºâ„ÄçÁä∂ÊÖã„ÄÇÁ§æ‰ºöÁöÑ„Å™Ê∑∑‰π±„Å™„Å©„ÄÇ",
            example_ru: "–ß—Ç–æ –∑–∞ –±–µ—Å–ø—Ä–µ–¥–µ–ª —Ç–≤–æ—Ä–∏—Ç—Å—è –Ω–∞ —É–ª–∏—Ü–∞—Ö?",
            example_ja: "Ë∑Ø‰∏ä„Åß‰∏Ä‰Ωì„Å©„Çì„Å™ÁÑ°Ê≥ïÁä∂ÊÖã„ÅåËµ∑„Åç„Å¶„Çã„Çì„Å†Ôºü"
        },
        {
            russian: "–ü–æ–¥—Å—Ç–∞–≤–∞",
            ipa: "[p…êtÀàstav…ô]",
            japanese: "ÁΩ†„ÄÅ„Éè„É°„Çâ„Çå„Çã„Åì„Å®",
            hook: "Ë™∞„Åã„Å´Èô•„Çå„Çâ„Çå„ÅüÁä∂Ê≥Å„ÇíÊåá„Åô„ÄÇ",
            example_ru: "–≠—Ç–æ –±—ã–ª–∞ —è–≤–Ω–∞—è –ø–æ–¥—Å—Ç–∞–≤–∞.",
            example_ja: "„Åì„Çå„ÅØÊòé„Çâ„Åã„Å™ÁΩ†„Å†„Å£„Åü„ÄÇ"
        },
        {
            russian: "–ß–∏–ª–ª–∏—Ç—å",
            ipa: "[ÀàtÕ°…ï…™l ≤…™t ≤]",
            japanese: "„ÉÅ„É´„Åô„Çã„ÄÅ„Åè„Å§„Çç„Åê",
            hook: "Ëã±Ë™û„ÅÆ„Äåto chill„Äç„Åã„Çâ„ÄÇËã•ËÄÖ„Åå‰Ωø„ÅÜ„ÄÇ",
            example_ru: "–ú—ã –ø—Ä–æ—Å—Ç–æ —á–∏–ª–ª–∏–ª–∏ –¥–æ–º–∞ –≤–µ—Å—å –¥–µ–Ω—å.",
            example_ja: "ÁßÅ„Åü„Å°„ÅØ‰∏ÄÊó•‰∏≠ÂÆ∂„Åß„Åü„Å†„ÉÅ„É´„Åó„Å¶„Åü„ÄÇ"
        },
        {
            russian: "–ö—Ä–∞—Å–∞–≤–∞",
            ipa: "[kr…êÀàsav…ô]",
            japanese: "„Éä„Ç§„ÇπÔºÅ„ÄÅ„Çà„Åè„ÇÑ„Å£„ÅüÔºÅ",
            hook: "„Äå–ö—Ä–∞—Å–∞–≤—á–∏–∫„Äç„ÅÆÁï•„ÄÇÁî∑ÊÄß„ÅÆ‰ª≤Èñì„ÇíË§í„ÇÅ„Çã„Å®„Åç„Å´‰Ωø„ÅÜ„ÄÇ",
            example_ru: "–í—ã–∏–≥—Ä–∞–ª –º–∞—Ç—á? –ö—Ä–∞—Å–∞–≤–∞!",
            example_ja: "Ë©¶Âêà„Å´Âãù„Å£„Åü„Å£„Å¶Ôºü„Çà„Åè„ÇÑ„Å£„Åü„Å™ÔºÅ"
        }
    ];
    // ===================================================================================
    // ‚òÖ‚òÖ‚òÖ ÂçòË™û„Éá„Éº„Çø„ÅÆËøΩÂä†„ÉªÁ∑®ÈõÜ„ÅØ„Åì„Åì„Åæ„Åß ‚òÖ‚òÖ‚òÖ
    // ===================================================================================

    const card = document.getElementById('card');
    const wordDisplay = document.getElementById('word-display');
    const ipaDisplay = document.getElementById('ipa-display');
    const audioBtn = document.getElementById('audio-btn');
    const japaneseDisplay = document.getElementById('japanese-display');
    const hookDisplay = document.getElementById('hook-display');
    const exampleRuDisplay = document.getElementById('example-ru-display');
    const exampleJaDisplay = document.getElementById('example-ja-display');
    const nextBtn = document.getElementById('next-btn');
    const progressDisplay = document.getElementById('progress-display');
    const ruJpBtn = document.getElementById('ru-jp-btn');
    const jpRuBtn = document.getElementById('jp-ru-btn');
    const mainContent = document.getElementById('main-content');
    const completionScreen = document.getElementById('completion-screen');
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    const audioBtnBack = document.getElementById('audio-btn-back');

    let currentWordIndex = 0;
    let deck = [];
    let mode = 'jp-ru'; // ÂàùÊúü„É¢„Éº„Éâ„Çí„ÄåÊó•Êú¨Ë™û‚Üí„É≠„Ç∑„Ç¢Ë™û„Äç„Å´Ë®≠ÂÆö
    const synth = window.speechSynthesis;

    card.addEventListener('click', () => card.classList.toggle('is-flipped'));
    audioBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        speak(deck[currentWordIndex].russian);
    });
    audioBtnBack.addEventListener('click', (e) => {
        e.stopPropagation();
        speak(deck[currentWordIndex].russian);
    });
    nextBtn.addEventListener('click', () => handleAnswer());
    ruJpBtn.addEventListener('click', () => setMode('ru-jp'));
    jpRuBtn.addEventListener('click', () => setMode('jp-ru'));

    function setMode(newMode) {
        mode = newMode;
        ruJpBtn.classList.toggle('active', mode === 'ru-jp');
        jpRuBtn.classList.toggle('active', mode === 'jp-ru');
        startSession();
    }

    function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    function startSession() {
        deck = shuffle([...wordData]);
        currentWordIndex = 0;
        mainContent.style.display = 'block';
        completionScreen.style.display = 'none';
        displayWord();
    }
    
    function displayWord() {
        if (currentWordIndex >= deck.length) {
            showCompletionScreen();
            return;
        }
        card.classList.remove('is-flipped');
        
        const word = deck[currentWordIndex];

        if (mode === 'ru-jp') {
            wordDisplay.textContent = word.russian;
            ipaDisplay.textContent = word.ipa;
            audioBtn.style.display = 'block';
            audioBtnBack.style.display = 'none';
            japaneseDisplay.textContent = word.japanese;
            hookDisplay.textContent = word.hook;
        } else { // jp-ru mode
            wordDisplay.textContent = word.japanese;
            ipaDisplay.textContent = "";
            audioBtn.style.display = 'none';
            audioBtnBack.style.display = 'block';
            japaneseDisplay.textContent = word.russian;
            hookDisplay.textContent = `Áô∫Èü≥: ${word.ipa}`;
        }
        
        exampleRuDisplay.textContent = `e.g. ${word.example_ru}`;
        exampleJaDisplay.textContent = `‰æãÔºâ${word.example_ja}`;
        updateProgress();
    }
    
    function handleAnswer() {
        currentWordIndex++;
        setTimeout(displayWord, 100);
    }

    function speak(text) {
        if (synth.speaking) {
            synth.cancel();
        }
        if (text !== '') {
            const utterThis = new SpeechSynthesisUtterance(text);
            utterThis.lang = 'ru-RU'; // ‚òÖ‚òÖ‚òÖ Áô∫Èü≥„Çí„É≠„Ç∑„Ç¢Ë™û„Å´Ë®≠ÂÆö ‚òÖ‚òÖ‚òÖ
            utterThis.pitch = 1;
            utterThis.rate = 1;
            synth.speak(utterThis);
        }
    }

    function updateProgress() {
        if (deck.length > 0) {
            progressDisplay.textContent = `ÈÄ≤Êçó: ${currentWordIndex + 1} / ${deck.length}`;
        }
    }

    function showCompletionScreen() {
        mainContent.style.display = 'none';
        completionScreen.style.display = 'block';
    }

    startSession();

    </script>
</body>
</html>